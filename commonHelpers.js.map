{"version":3,"file":"commonHelpers.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from 'flatpickr';\nimport 'flatpickr/dist/flatpickr.min.css';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst listenerButton = document.querySelector('button[data-start]');\nconst dataDays = document.querySelector('span[data-days]');\nconst dataHours = document.querySelector('span[data-hours]');\nconst dataMinutes = document.querySelector('span[data-minutes]');\nconst dataSeconds = document.querySelector('span[data-seconds]');\n\nconst nowDate = new Date();\n\nconst options = {\n    enableTime: true,\n    time_24hr: true,\n    defaultDate: new Date(),\n    minuteIncrement: 1,\n    onClose(selectedDates) {\n        let userSelectedDate = selectedDates[0];\n\n        if (userSelectedDate < nowDate) {\n            listenerButton.classList.remove('is-active');\n            iziToast.error({\n                title: 'Error',\n                message: 'Please choose a date in the future',\n                titleColor: '#FFFFFF',\n                titleSize: '16px',\n                messageColor: '#FFFFFF',\n                messageSize: '16px',\n                backgroundColor: '#EF4040',\n                position: 'topRight',\n            });\n        } else if (userSelectedDate > nowDate) {\n            listenerButton.classList.add('is-active');\n\n            listenerButton.addEventListener('click', () => {\n                let timeDifference =\n                    userSelectedDate.getTime() - nowDate.getTime();\n\n                setInterval(() => {\n                    timeDifference -= 1000;\n\n                    if (timeDifference > 1) {\n                        convertMs(timeDifference);\n                    } else {\n                        clearInterval(setInterval(() => {}, 1000));\n                    }\n                }, 1000);\n            });\n        }\n    },\n};\n\nflatpickr('#datetime-picker', options);\n\nfunction addLeadingZero(value) {\n    return String(value).padStart(2, '0');\n}\n\nfunction convertMs(timeDifference) {\n    // Number of milliseconds per unit of time\n    const second = 1000;\n    const minute = second * 60;\n    const hour = minute * 60;\n    const day = hour * 24;\n\n    // Remaining days\n    const days = addLeadingZero(Math.floor(timeDifference / day));\n\n    // Remaining hours\n    const hours = addLeadingZero(Math.floor((timeDifference % day) / hour));\n\n    // Remaining minutes\n    const minutes = addLeadingZero(\n        Math.floor(((timeDifference % day) % hour) / minute)\n    );\n\n    // Remaining seconds\n    const seconds = addLeadingZero(\n        Math.floor((((timeDifference % day) % hour) % minute) / second)\n    );\n\n    dataDays.textContent = days;\n    dataHours.textContent = hours;\n    dataMinutes.textContent = minutes;\n    dataSeconds.textContent = seconds;\n    console.log(dataSeconds.textContent == '00');\n\n    return { days, hours, minutes, seconds };\n}\n"],"names":["listenerButton","dataDays","dataHours","dataMinutes","dataSeconds","nowDate","options","selectedDates","userSelectedDate","iziToast","timeDifference","convertMs","flatpickr","addLeadingZero","value","days","hours","minutes","seconds"],"mappings":"2GAKA,MAAMA,EAAiB,SAAS,cAAc,oBAAoB,EAC5DC,EAAW,SAAS,cAAc,iBAAiB,EACnDC,EAAY,SAAS,cAAc,kBAAkB,EACrDC,EAAc,SAAS,cAAc,oBAAoB,EACzDC,EAAc,SAAS,cAAc,oBAAoB,EAEzDC,EAAU,IAAI,KAEdC,EAAU,CACZ,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACnB,IAAIC,EAAmBD,EAAc,GAEjCC,EAAmBH,GACnBL,EAAe,UAAU,OAAO,WAAW,EAC3CS,EAAS,MAAM,CACX,MAAO,QACP,QAAS,qCACT,WAAY,UACZ,UAAW,OACX,aAAc,UACd,YAAa,OACb,gBAAiB,UACjB,SAAU,UAC1B,CAAa,GACMD,EAAmBH,IAC1BL,EAAe,UAAU,IAAI,WAAW,EAExCA,EAAe,iBAAiB,QAAS,IAAM,CAC3C,IAAIU,EACAF,EAAiB,QAAO,EAAKH,EAAQ,QAAO,EAEhD,YAAY,IAAM,CACdK,GAAkB,IAEdA,EAAiB,EACjBC,EAAUD,CAAc,EAExB,cAAc,YAAY,IAAM,GAAI,GAAI,CAAC,CAEhD,EAAE,GAAI,CACvB,CAAa,EAER,CACL,EAEAE,EAAU,mBAAoBN,CAAO,EAErC,SAASO,EAAeC,EAAO,CAC3B,OAAO,OAAOA,CAAK,EAAE,SAAS,EAAG,GAAG,CACxC,CAEA,SAASH,EAAUD,EAAgB,CAQ/B,MAAMK,EAAOF,EAAe,KAAK,MAAMH,EAAiB,KAAG,CAAC,EAGtDM,EAAQH,EAAe,KAAK,MAAOH,EAAiB,MAAO,IAAI,CAAC,EAGhEO,EAAUJ,EACZ,KAAK,MAAQH,EAAiB,MAAO,KAAQ,GAAM,CAC3D,EAGUQ,EAAUL,EACZ,KAAK,MAASH,EAAiB,MAAO,KAAQ,IAAU,GAAM,CACtE,EAEI,OAAAT,EAAS,YAAcc,EACvBb,EAAU,YAAcc,EACxBb,EAAY,YAAcc,EAC1Bb,EAAY,YAAcc,EAC1B,QAAQ,IAAId,EAAY,aAAe,IAAI,EAEpC,CAAE,KAAAW,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CAC1C"}